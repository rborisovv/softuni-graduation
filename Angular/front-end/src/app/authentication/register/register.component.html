<div class="container">
  <div class="register-wrapper">
    <h2 class="register-heading mb-30 text-center">Greetings!</h2>
    <p class="text-bold-600 welcome-label text-center mb-10">Please provide the following data</p>
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="needs-validation" novalidate>
      <!-- Email input -->
      <div class="row">
        <div class="input-group mb-4">
          <span class="input-group-text" id="username-icon"><fa-icon [icon]="faUser"></fa-icon></span>
          <input type="text"
                 [ngClass]="{'is-valid': !username.errors, 'is-invalid': (username.errors && username.touched)}"
                 id="username" formControlName="username" required name="username" placeholder="Username"
                 class="form-control"/>
        </div>
      </div>
      <div class="error-messages text-danger">
        <div *ngIf="username.errors?.['required'] && username.touched">Username is required.</div>
        <div *ngIf="username.errors?.['minlength'] && username.touched">Username must be at least 5 characters long.
        </div>
        <div *ngIf="username.errors?.['maxlength'] && username.touched">The maximum length of the username is 30
          characters.
        </div>
      </div>

      <div class="row">
        <div class="input-group mb-4">
          <span class="input-group-text" id="email-icon"><fa-icon [icon]="faEnvelope"></fa-icon></span>
          <input type="text" id="email" formControlName="email" required name="email" placeholder="Email"
                 [ngClass]="{'is-valid': !email.errors, 'is-invalid': (email.errors && email.touched)}"
                 class="form-control"/>
        </div>
      </div>
      <div class="error-messages text-danger">
        <div *ngIf="email.errors?.['required'] && email.touched">Email is required.</div>
        <div *ngIf="email.errors?.['email'] && email.touched">Please enter a valid email.</div>
      </div>

      <div class="row">
        <div class="input-group col mb-4">
          <span class="input-group-text" id="first-name-icon"><fa-icon [icon]="faAddressCard"></fa-icon></span>
          <input type="text" id="first-name" formControlName="firstName" required name="firstName"
                 [ngClass]="{'is-valid': !firstName.errors, 'is-invalid': (firstName.errors && firstName.touched)}"
                 placeholder="First Name" class="form-control"/>
        </div>

        <div class="input-group col mb-4">
          <span class="input-group-text" id="last-name-icon"><fa-icon [icon]="faAddressCard"></fa-icon></span>
          <input type="text" id="last-name" formControlName="lastName" required name="lastName" placeholder="Last Name"
                 [ngClass]="{'is-valid': !lastName.errors, 'is-invalid': (lastName.errors && lastName.touched)}"
                 class="form-control"/>
        </div>
      </div>

      <div class="row">
        <div class="name-messages error-messages text-danger">
          <div *ngIf="firstName.errors?.['required'] && firstName.touched">Last name is required.</div>
          <div class="text-center" *ngIf="firstName.errors?.['minlength'] && firstName.touched">The length of the last
            name must be at least
            3 characters.
          </div>
          <div class="text-center" *ngIf="firstName.errors?.['maxlength'] && firstName.touched">The maximum length of
            the last name is
            30 characters.
          </div>
        </div>

        <div class="name-messages error-messages text-danger">
          <div *ngIf="lastName.errors?.['required'] && lastName.touched">Last name is required.</div>
          <div class="text-center" *ngIf="lastName.errors?.['minlength'] && lastName.touched">The length of the last
            name must be at least 3
            characters.
          </div>
          <div class="text-center" *ngIf="lastName.errors?.['maxlength'] && lastName.touched">The maximum length of the
            last name is 30
            characters.
          </div>
        </div>
      </div>


      <div class="row justify-content-center">
        <div class="input-group col mb-4">
          <span class="input-group-text" id="birthdate-icon"><fa-icon [icon]="faCalendar"></fa-icon></span>
          <input id="birthdate" formControlName="birthDate" name="birthDate" required placeholder="Birthdate"
                 [ngClass]="{'is-valid': !birthDate.errors, 'is-invalid': (birthDate.errors && birthDate.touched)}"
                 class="form-control" onkeydown="return false" onblur="(this.type='text')" onfocus="(this.type='date')" type="text"
                 [max]="today"/>
        </div>
      </div>
      <div class="error-messages text-danger">
        <div *ngIf="birthDate.errors?.['required'] && birthDate.touched">Birth date is required.</div>
      </div>


      <!-- Password input -->
      <div class="row">
        <div class="input-group col mb-4">
          <span class="input-group-text" id="password-icon"><fa-icon [icon]="faKey"></fa-icon></span>
          <input type="password" id="password" formControlName="password" required name="password"
                 [ngClass]="{'is-valid': !password.errors, 'is-invalid': (password.errors && password.touched)}"
                 placeholder="Password" class="form-control"/>
        </div>

        <div class="input-group col mb-4">
          <span class="input-group-text" id="confirm-password-icon"><fa-icon [icon]="faLock"></fa-icon></span>
          <input type="password" id="confirm-password" formControlName="confirmPassword" required name="confirmPassword"
                 [ngClass]="{'is-valid': !confirmPassword.errors, 'is-invalid': (confirmPassword.errors && confirmPassword.touched)}"
                 (change)="onConfirmPasswordChange()"
                 placeholder="Confirm password"
                 class="form-control"/>
        </div>
      </div>
      <div class="row passwords-wrapper text-center">
        <div class="password-messages error-messages text-danger">
          <div *ngIf="password.errors?.['required'] && password.touched">Password is required.</div>
          <div *ngIf="password.errors?.['minlength'] && password.touched && password.dirty">The user password must be at
            least 6 characters long.
          </div>
          <div *ngIf="password.errors?.['maxlength'] && password.touched">The maximum length of the password is 50
            characters.
          </div>
        </div>
        <div class="confirm-password-messages text-center error-messages text-danger">
          <div *ngIf="confirmPassword.errors?.['required'] && confirmPassword.touched">Confirm password is required.
          </div>
          <div *ngIf="confirmPassword.errors?.['minlength'] && confirmPassword.touched">The confirm password must be at
            least 6 characters long.
          </div>
          <div *ngIf="confirmPassword.errors?.['maxlength'] && confirmPassword.touched">The maximum length of the
            confirm password is 50 characters long.
          </div>
        </div>
      </div>

      <div class="text-center error-messages text-danger">
        <div class="password-matches-message" *ngIf="!onConfirmPasswordChange() && password.dirty && confirmPassword.dirty">Passwords do not match.</div>
      </div>

      <div class="row mb-4 text-center">
        <div class="col d-flex justify-content-center">
          <!-- Checkbox -->
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember-me" checked/>
            <label class="form-check-label" for="remember-me"> Remember me </label>
          </div>
        </div>

        <div class="col">
          <!-- Simple link -->
          <a href="#">Forgot password?</a>
        </div>
      </div>

      <!-- Submit button -->
      <button type="submit" [disabled]="registerForm.invalid || !onConfirmPasswordChange()" class="btn btn-primary btn-block mb-4 submit-btn">
        Sign up
      </button>
      <!-- Register buttons -->
      <div class="text-center">
        <p>Have an account? <a href="#" routerLink="/login">Login</a></p>
        <p>or sign up with:</p>
        <button type="button" class="btn btn-link btn-floating mx-1">
          <fa-icon [icon]="faFacebook"></fa-icon>
        </button>

        <button type="button" class="btn btn-link btn-floating mx-1">
          <fa-icon [icon]="faGoogle"></fa-icon>
        </button>

        <button type="button" class="btn btn-link btn-floating mx-1">
          <fa-icon [icon]="faTwitter"></fa-icon>
        </button>

        <button type="button" class="btn btn-link btn-floating mx-1">
          <fa-icon [icon]="faGithub"></fa-icon>
        </button>
      </div>
    </form>
  </div>
</div>
