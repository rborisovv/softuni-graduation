<app-auth-header url="/auth/register"></app-auth-header>


<form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="form" novalidate>
  <h3 class="form-title">Register Account</h3>
  <div class="form-controll">
    <div class="form-input">
      <input type="text" name="username" id="username" formControlName="username" required>
      <label for="username">
        <fa-icon [icon]="faUser"></fa-icon>
        Username</label>
    </div>
    <div class="error-messages text-danger">
      <div *ngIf="username.errors?.['required'] && username.touched">Username is required.</div>
      <div *ngIf="username.errors?.['minlength'] && username.touched">Username must be at least 5 characters long.
      </div>
      <div *ngIf="username.errors?.['maxlength'] && username.touched">The maximum length of the username is 30
        characters.
      </div>
    </div>
  </div>
  <div class="form-controll">
    <div class="form-input">
      <input type="text" name="email" id="email" formControlName="email" required>
      <label for="email">
        <fa-icon [icon]="faEnvelope"></fa-icon>
        E-mail</label>
    </div>
    <div class="error-messages text-danger">
      <div *ngIf="email.errors?.['required'] && email.touched">Email is required.</div>
      <div *ngIf="email.errors?.['email'] && email.touched">Please enter a valid email.</div>
      <div *ngIf="email.errors?.['emailPresent'] && email.touched">An account with the provided email is already
        present.
      </div>
    </div>
  </div>
  <div class="grid-2">
    <div class="form-controll">
      <div class="form-input">
        <input type="text" name="first_name" id="first_name" formControlName="firstName" required>
        <label for="first_name">
          <fa-icon [icon]="faAddressCard"></fa-icon>
          First Name</label>
      </div>

      <div class="name-messages error-messages text-danger">
        <div *ngIf="firstName.errors?.['required'] && firstName.touched">Last name is required.</div>
        <div class="text-left" *ngIf="firstName.errors?.['minlength'] && firstName.touched">The length of the last
          name must be at least 3 characters.
        </div>
        <div class="text-left" *ngIf="firstName.errors?.['maxlength'] && firstName.touched">The maximum length of
          the last name is 30 characters.
        </div>
      </div>

    </div>
    <div class="form-controll">
      <div class="form-input">
        <input type="text" name="last_name" id="last_name" formControlName="lastName" required>
        <label for="last_name">
          <fa-icon [icon]="faAddressCard"></fa-icon>
          Last Name</label>
      </div>

      <div class="name-messages error-messages text-danger">
        <div *ngIf="lastName.errors?.['required'] && lastName.touched">Last name is required.</div>
        <div class="text-left" *ngIf="lastName.errors?.['minlength'] && lastName.touched">The length of the last
          name must be at least 3 characters.
        </div>
        <div class="text-left" *ngIf="lastName.errors?.['maxlength'] && lastName.touched">The maximum length of the
          last name is 30 characters.
        </div>
      </div>

    </div>
  </div>
  <div class="form-controll">
    <div class="form-input">
      <input type="text" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'" name="birthdate"
             style="cursor: default;"
             id="birthdate" required
             formControlName="birthDate">
      <label for="birthdate">
        <fa-icon [icon]="faCalendar"></fa-icon>
        Birthdate</label>
    </div>

    <div class="error-messages text-danger">
      <div *ngIf="birthDate.errors?.['required'] && birthDate.touched">Birth date is required.</div>
    </div>

  </div>

  <div class="grid-2">
    <div class="form-controll">
      <div class="form-input">
        <input type="password" name="password" id="password" formControlName="password" required>
        <label for="password">
          <fa-icon [icon]="faKey"></fa-icon>
          Password</label>
        <!-- Password Show and Hide-->
        <div class="password-showHide">
          <svg class="icon show-password" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9 3.375C5.25 3.375 2.0475 5.7075 0.75 9C2.0475 12.2925 5.25 14.625 9 14.625C12.75 14.625 15.9525 12.2925 17.25 9C15.9525 5.7075 12.75 3.375 9 3.375ZM9 12.75C6.93 12.75 5.25 11.07 5.25 9C5.25 6.93 6.93 5.25 9 5.25C11.07 5.25 12.75 6.93 12.75 9C12.75 11.07 11.07 12.75 9 12.75ZM9 6.75C7.755 6.75 6.75 7.755 6.75 9C6.75 10.245 7.755 11.25 9 11.25C10.245 11.25 11.25 10.245 11.25 9C11.25 7.755 10.245 6.75 9 6.75Z"
              fill="black"/>
          </svg>
          <svg class="icon hide-password" width="18" height="18" viewBox="0 0 18 18" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.1387 14.526L10.323 12.7091C9.62082 12.9602 8.86179 13.0067 8.13422 12.8432C7.40665 12.6797 6.74047 12.313 6.21317 11.7857C5.68588 11.2584 5.31916 10.5922 5.15568 9.86465C4.99221 9.13708 5.0387 8.37805 5.28975 7.67587L2.97225 5.35838C1.05525 7.06275 0 9 0 9C0 9 3.375 15.1875 9 15.1875C10.0805 15.1837 11.1487 14.9586 12.1387 14.526V14.526ZM5.86125 3.474C6.85131 3.04135 7.91954 2.81622 9 2.8125C14.625 2.8125 18 9 18 9C18 9 16.9436 10.9361 15.0289 12.6427L12.7091 10.323C12.9602 9.62082 13.0067 8.86179 12.8432 8.13422C12.6797 7.40665 12.313 6.74047 11.7857 6.21317C11.2584 5.68588 10.5922 5.31916 9.86465 5.15568C9.13708 4.99221 8.37805 5.0387 7.67587 5.28975L5.86125 3.47512V3.474Z"
              fill="black"/>
            <path
              d="M6.21544 8.60156C6.15355 9.03391 6.19321 9.47473 6.33127 9.88909C6.46933 10.3035 6.70199 10.68 7.01083 10.9888C7.31966 11.2976 7.69617 11.5303 8.11053 11.6684C8.52489 11.8064 8.96571 11.8461 9.39806 11.7842L6.21431 8.60156H6.21544ZM11.7842 9.39806L8.60156 6.21431C9.03391 6.15243 9.47473 6.19209 9.88909 6.33015C10.3035 6.4682 10.68 6.70087 10.9888 7.0097C11.2976 7.31853 11.5303 7.69505 11.6684 8.10941C11.8064 8.52377 11.8461 8.96459 11.7842 9.39694V9.39806ZM15.3516 16.1481L1.85156 2.64806L2.64806 1.85156L16.1481 15.3516L15.3516 16.1481Z"
              fill="black"/>
          </svg>
        </div>

      </div>

      <div class="password-messages error-messages text-danger">
        <div *ngIf="password.errors?.['required'] && password.touched">Password is required.</div>
        <div *ngIf="password.errors?.['minlength'] && password.touched && password.dirty">The user password must be at
          least 6 characters long.
        </div>
        <div *ngIf="password.errors?.['maxlength'] && password.touched">The maximum length of the password is 50
          characters.
        </div>
      </div>

    </div>
    <div class="form-controll">
      <div class="form-input">
        <input type="password" name="password_confirmation" id="password_confirmation" formControlName="confirmPassword"
               required>
        <label for="password_confirmation">
          <fa-icon [icon]="faLock"></fa-icon>
          Confirm Password</label>
        <!-- Password Show and Hide-->
        <div class="password-showHide">
          <svg class="icon show-password" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9 3.375C5.25 3.375 2.0475 5.7075 0.75 9C2.0475 12.2925 5.25 14.625 9 14.625C12.75 14.625 15.9525 12.2925 17.25 9C15.9525 5.7075 12.75 3.375 9 3.375ZM9 12.75C6.93 12.75 5.25 11.07 5.25 9C5.25 6.93 6.93 5.25 9 5.25C11.07 5.25 12.75 6.93 12.75 9C12.75 11.07 11.07 12.75 9 12.75ZM9 6.75C7.755 6.75 6.75 7.755 6.75 9C6.75 10.245 7.755 11.25 9 11.25C10.245 11.25 11.25 10.245 11.25 9C11.25 7.755 10.245 6.75 9 6.75Z"
              fill="black"/>
          </svg>
          <svg class="icon hide-password" width="18" height="18" viewBox="0 0 18 18" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.1387 14.526L10.323 12.7091C9.62082 12.9602 8.86179 13.0067 8.13422 12.8432C7.40665 12.6797 6.74047 12.313 6.21317 11.7857C5.68588 11.2584 5.31916 10.5922 5.15568 9.86465C4.99221 9.13708 5.0387 8.37805 5.28975 7.67587L2.97225 5.35838C1.05525 7.06275 0 9 0 9C0 9 3.375 15.1875 9 15.1875C10.0805 15.1837 11.1487 14.9586 12.1387 14.526V14.526ZM5.86125 3.474C6.85131 3.04135 7.91954 2.81622 9 2.8125C14.625 2.8125 18 9 18 9C18 9 16.9436 10.9361 15.0289 12.6427L12.7091 10.323C12.9602 9.62082 13.0067 8.86179 12.8432 8.13422C12.6797 7.40665 12.313 6.74047 11.7857 6.21317C11.2584 5.68588 10.5922 5.31916 9.86465 5.15568C9.13708 4.99221 8.37805 5.0387 7.67587 5.28975L5.86125 3.47512V3.474Z"
              fill="black"/>
            <path
              d="M6.21544 8.60156C6.15355 9.03391 6.19321 9.47473 6.33127 9.88909C6.46933 10.3035 6.70199 10.68 7.01083 10.9888C7.31966 11.2976 7.69617 11.5303 8.11053 11.6684C8.52489 11.8064 8.96571 11.8461 9.39806 11.7842L6.21431 8.60156H6.21544ZM11.7842 9.39806L8.60156 6.21431C9.03391 6.15243 9.47473 6.19209 9.88909 6.33015C10.3035 6.4682 10.68 6.70087 10.9888 7.0097C11.2976 7.31853 11.5303 7.69505 11.6684 8.10941C11.8064 8.52377 11.8461 8.96459 11.7842 9.39694V9.39806ZM15.3516 16.1481L1.85156 2.64806L2.64806 1.85156L16.1481 15.3516L15.3516 16.1481Z"
              fill="black"/>
          </svg>
        </div>
      </div>

      <div class="confirm-password-messages error-messages text-danger">
        <div *ngIf="confirmPassword.errors?.['required'] && confirmPassword.touched">Confirm password is required.
        </div>
        <div *ngIf="confirmPassword.errors?.['minlength'] && confirmPassword.touched">The confirm password must be at
          least 6 characters long.
        </div>
        <div *ngIf="confirmPassword.errors?.['maxlength'] && confirmPassword.touched">The maximum length of the
          confirm password is 50 characters long.
        </div>
      </div>

    </div>
  </div>
  <div class="form-submit">
    <button type="submit" [disabled]="registerForm.invalid || !onConfirmPasswordChange()">Register</button>
  </div>
</form>
